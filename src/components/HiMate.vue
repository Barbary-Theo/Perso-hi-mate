<template>

  <div class="main">

    <div class="black-side">

      <div class="to-row">
        <p class="date" v-text="date"> </p>
        <p class="smiley" v-text="smileySelected"> </p>
      </div>

      <p class="hi"> Hello friend ! </p>

      <v-img
          :class="classeHello"
          src="../assets/hello-friend.png"
      ></v-img>

      <v-img
          :class="classeHow"
          src="../assets/how-are-you.png"
      ></v-img>

      <v-icon color="white" large :class="classeIcon">{{ icon.mdiChevronDown }}</v-icon>

    </div>

    <div id="folio-side" class="folio-side">

    </div>

  </div>

</template>

<script>


import {mdiChevronDown} from "@mdi/js";
import * as THREE from "three";

export default {
  name: 'HiMate',
  components: {},
  data: () => ({
    icon: { mdiChevronDown },
    date: null,
    smiley: ['😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😇', '😉', '😊', '🙂', '🙃', '☺', '😋', '😌', '😍', '🥰', '😘', '😗', '😙', '😚', '🥲', '🤪', '😜', '😝', '😛', '🤑', '😎', '🤓', '🥸', '🧐', '🤠', '🥳', '🤡', '😏', '😶', '😑', '😒', '🙄', '🤨', '🤔', '🤫', '🤭', '🤥', '😳', '😞', '😟', '😤', '😠', '😡', '🤬', '😔', '😕', '🙁', '☹', '😬', '🥺', '😣', '😖', '😫', '😩', '🥱', '😪', '😮', '😱', '😨', '😰', '😥', '😓', '😯', '😦', '😧', '😢', '😭', '🤤', '🤩', '😵', '🥴', '😲', '🤯', '🤐', '😷', '🤕', '🤒', '🤮', '🤢', '🤧', '🥵', '🥶', '😴', '💤', '😈', '👿', '👹', '👺', '💩', '👻', '💀', '☠', '👽', '🤖', '🎃', '😺', '😸', '😹', '😻', '😼', '😽', '🙀', '😿', '😾', '👐', '🤲', '🙌', '👏', '🙏', '🤝', '👍', '👎', '👊', '✊', '🤛', '🤜', '🤞', '✌', '🤘', '🤟', '👌', '🤌', '🤏', '👈', '👉', '👆', '👇', '☝', '✋', '🤚', '🖐', '🖖', '👋', '🤙', '💪', '🦾', '🖕',  '✍', '🤳', '💅', '🦵', '🦿', '🦶', '👄', '🦷', '👅', '👂', '🦻', '👃', '👁', '👀', '🧠', '🫀', '🫁', '🦴', '👤', '👥', '🗣', '🫂', '👶', '👧', '🧒', '👦', '👩', '🧑', '👨', '👱', '👵', '🧓', '👴', '👲', '🙍', '💃', '🕺', '👫', '👭', '👬',  '💑', '❤', '🧡', '💛', '💚', '💙', '💜', '🤎', '🖤', '🤍', '💔', '❣', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '🐶', '🐱', '🐭', '🐹', '🐰', '🐻', '🧸', '🐼',  '🐨', '🐯', '🦁', '🐮', '🐷', '🐽', '🐸', '🐵', '🙈', '🙉', '🙊', '🐒', '🦍', '🦧', '🐔', '🐧', '🐦', '🐤', '🐣', '🐥', '🐺', '🦊', '🦝', '🐗', '🐴', '🦓', '🦒', '🦌', '🦘', '🦥', '🦦', '🦫', '🦄', '🐝', '🐛', '🦋', '🐌', '🪲', '🐞', '🐜', '🦗', '🪳', '🕷', '🕸', '🦂', '🦟', '🪰', '🪱', '🦠', '🐢', '🐍', '🦎', '🐙', '🦑', '🦞', '🦀', '🦐', '🦪', '🐠', '🐟', '🐡', '🐬', '🦈', '🦭', '🐳', '🐋', '🐊', '🐆', '🐅', '🐃', '🐂', '🐄', '🦬', '🐪', '🐫', '🦙', '🐘', '🦏', '🦛', '🦣', '🐐', '🐏', '🐑', '🐎', '🐖', '🦇', '🐓', '🦃', '🕊', '🦅', '🦆', '🦢', '🦉', '🦩', '🦚', '🦜', '🦤', '🪶', '🐕', '🦮', '🐩', '🐈', '🐇', '🐀', '🐁', '🐿', '🦨', '🦡', '🦔', '🐾', '🐉', '🐲', '🦕', '🦖', '🌵', '🎄', '🌲', '🌳', '🌴', '🪴', '🌱', '🌿', '☘', '🍀', '🎍', '🎋', '🍃', '🍂', '🍁', '🌾', '🌺', '🌻', '🌹', '🥀', '🌷', '🌼', '🌸', '💐', '🍄', '🐚', '🌎', '🌍', '🌏', '🌕', '🌖', '🌗', '🌘', '🌑', '🌒', '🌓', '🌔', '🌙', '🌚', '🌝', '🌛', '🌜', '⭐', '🌟', '💫', '✨', '☄', '🪐', '🌞', '☀', '🌤', '⛅', '🌥', '🌦', '☁', '🌧', '⛈', '🌩', '⚡', '🔥', '💥', '❄', '🌨', '☃', '⛄', '🌬', '💨', '🌪', '🌫', '🌈', '☔', '💧', '💦', '🌊', '🍏', '🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🍈', '🍒', '🫐', '🍑', '🥭', '🍍', '🥥', '🥝', '🍅', '🥑', '🫒', '🍆', '🌶', '🫑', '🥒', '🥬', '🥦', '🧄', '🧅', '🌽', '🥕', '🥗', '🥔', '🍠', '🌰', '🥜', '🍯', '🍞', '🥐', '🥖', '🫓', '🥨', '🥯', '🥞', '🧇', '🧀', '🍗', '🍖', '🥩', '🍤', '🥚', '🍳', '🥓', '🍔', '🍟', '🌭', '🍕', '🍝', '🥪', '🌮', '🌯', '🫔', '🥙', '🧆', '🍜', '🥘', '🍲', '🫕', '🥫', '🧂', '🧈', '🍥', '🍣', '🍱', '🍛', '🍙', '🍚', '🍘', '🥟', '🍢', '🍡', '🍧', '🍨', '🍦', '🍰', '🎂', '🧁', '🥧', '🍮', '🍭', '🍬', '🍫', '🍿', '🍩', '🍪', '🥠', '🥮', '☕', '🍵', '🫖', '🥣', '🍼', '🥤', '🧋', '🧃', '🧉', '🥛', '🍺', '🍻', '🍷', '🥂', '🥃', '🍸', '🍹', '🍾', '🍶', '🧊', '🥄', '🍴', '🍽', '🥢', '🥡', '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🎱', '🥏', '🪃', '🏓', '🏸', '🥅', '🏒', '🏑', '🏏', '🥍', '🥌', '⛳', '🏹', '🎣', '🤿', '🥊', '🥋', '⛸', '🎿', '🛷', '⛷', '🏂', '🎽', '🎖', '🏅', '🥇', '🥈', '🥉', '🏆', '🏵', '🎗', '🎫', '🎟', '🎪', '🎭', '🎨', '🎬', '🎤', '🎧', '🎼', '🎹', '🪗', '🥁', '🪘', '🎷', '🎺', '🎸', '🪕', '🎻', '🎲', '🧩', '♟', '🎯', '🎳', '🧝',  '🧟', '🧟', '🧟',  '🚗', '🚙', '🚕', '🛺', '🚌', '🚎', '🏎', '🚓', '🚑', '🚒', '🚐', '🛻', '🚚', '🚛', '🚜', '🏍', '🛵', '🚲', '🦼', '🦽', '🛴', '🛹', '🛼', '🚨', '🚔', '🚍', '🚘', '🚖', '🚡', '🚠', '🚟', '🚃', '🚋', '🚝', '🚄', '🚅', '🚈', '🚞', '🚂', '🚆', '🚇', '🚊', '🚉', '🚁', '🛩', '✈', '🛫', '🛬', '🪂', '💺', '🛰', '🚀', '🛸', '🛶', '⛵', '🛥', '🚤', '⛴', '🛳', '🚢', '⚓', '⛽', '🚧', '🚏', '🚦', '🚥', '🛑', '🎡', '🎢', '🎠', '🏗', '🌁', '🗼', '🏭', '⛲', '🎑', '⛰', '🏔', '🗻', '🌋', '🗾', '🏕', '⛺', '🏞', '🛣', '🛤', '🌅', '🌄', '🏜', '🏖', '🏝', '🌇', '🌆', '🏙', '🌃', '🌉', '🌌', '🌠', '🎇', '🎆', '🛖', '🏘', '🏰', '🏯', '🏟', '🗽', '🏠', '🏡', '🏚', '🏢', '🏬', '🏣', '🏤', '🏥', '🏦', '🏨', '🏪', '🏫', '🏩', '💒', '🏛', '⛪', '🕌', '🛕', '🕍', '🕋', '⛩', '⌚', '📱', '📲', '💻', '⌨', '🖥', '🖨', '🖱', '🖲', '🕹', '🗜', '💽', '💾', '💿', '📀', '📼', '📷', '📸', '📹', '🎥', '📽', '🎞', '📞', '☎', '📟', '📠', '📺', '📻', '🎙', '🎚', '🎛', '⏱', '⏲', '⏰', '🕰', '⏳', '⌛', '🧮', '📡', '🔋', '🔌', '💡', '🔦', '🕯', '🧯', '🗑', '🛢', '🛒', '💸', '💵', '💴', '💶', '💷', '💰', '🪙', '💳', '🧾', '💎', '⚖', '🦯', '🧰', '🔧', '🪛', '🔨', '⚒', '🛠', '⛏', '🪓', '🪚', '🔩', '⚙', '⛓', '🪝', '🪜', '🧱', '🪨', '🪵', '🔫', '🧨', '💣', '🔪', '🗡', '⚔', '🛡', '🚬', '⚰', '🪦', '⚱', '🏺', '🔮', '🪄', '📿', '🧿', '💈', '🧲', '⚗', '🧪', '🧫', '🧬', '🔭', '🔬', '🕳', '💊', '💉', '🩸', '🩹', '🩺', '🌡', '🏷', '🔖', '🚽', '🪠', '🚿', '🛁', '🛀', '🪥', '🪒', '🧴', '🧻', '🧼', '🧽', '🧹', '🧺', '🪣', '🔑', '🗝', '🪤', '🛋', '🪑', '🛌', '🛏', '🚪', '🪞', '🪟', '🧳', '🛎', '🖼', '🧭', '🗺', '⛱', '🗿', '🛍', '🎈', '🎏', '🎀', '🧧', '🎁', '🎊', '🎉', '🪅', '🪆', '🎎', '🎐', '🏮', '🪔', '✉', '📩', '📨', '📧', '💌', '📮', '📪', '📫', '📬', '📭', '📦', '📯', '📥', '📤', '📜', '📃', '📑', '📊', '📈', '📉', '📄', '📅', '📆', '🗓', '📇', '🗃', '🗳', '🗄', '📋', '🗒', '📁', '📂', '🗂', '🗞', '📰', '🪧', '📓', '📕', '📗', '📘', '📙', '📔', '📒', '📚', '📖', '🔗', '📎', '🖇', '✂', '📐', '📏', '📌', '📍', '🧷', '🪡', '🧵', '🧶', '🪢', '🔐', '🔒', '🔓', '🔏', '🖊', '🖋', '✒', '📝', '✏', '🖍', '🖌', '🔍', '🔎', '👚', '👕', '🥼', '🦺', '🧥', '👖', '👔', '👗', '👘', '🥻', '🩱', '👙', '🩲', '🩳', '💄', '💋', '👣', '🧦', '🩴', '👠', '👡', '👢', '🥿', '👞', '👟', '🩰', '🥾', '🧢', '👒', '🎩', '🎓', '👑', '⛑', '🪖', '🎒', '👝', '👛', '👜', '💼', '👓', '🕶', '🥽', '🧣', '🧤', '💍', '🌂', '☂'],
    smileySelected: '😀',
    classeHello: 'image-hello ',
    classeHow: 'image-hello ',
    classeIcon: 'icon-down ',
    displayingDateInterval: null,
    displayingEmojieInterval: null,
    displayingHelloInterval: null,
    animationScrollDownInterval: null,

    /*  Three js part */
    containerId: "folio-side"
  }),

  methods: {

    threeJsScene() {

      const scene = new THREE.Scene();

      const ambientLight = new THREE.AmbientLight("grey", 0.6);
      scene.add(ambientLight);
      scene.background = new THREE.Color("grey")

      const directionalLight = new THREE.DirectionalLight("grey", 0.8);
      directionalLight.position.set(200, 500, 300);
      scene.add(directionalLight);


      // Setting up camera
      const aspectRatio = window.innerWidth / window.innerHeight;
      const cameraWidth = 150;
      const cameraHeight = cameraWidth / aspectRatio;

      const camera = new THREE.OrthographicCamera(
          cameraWidth / -2, // left
          cameraWidth / 2, // right
          cameraHeight / 2, // top
          cameraHeight / -2, // bottom
          0, // near plane
          10000 // far plane
      );
      camera.position.set(250, 200, 200);
      camera.lookAt(0, 10, 0);
      camera.scale.x = 5;
      camera.scale.y = 5;
      camera.scale.z = 5;

      // Set up renderer
      const renderer = new THREE.WebGLRenderer({ antialias: false });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.render(scene, camera);

      document.getElementById("folio-side").appendChild(renderer.domElement);

    },


    getDateToDisplay: () => {
        let date = new Date();

        let hour = date.getHours().toString();
        let minute = date.getMinutes().toString();
        let second = date.getSeconds().toString()

        if(hour.length === 1) {
          hour = "0" + hour;
        }
        if(minute.length === 1) {
          minute = "0" + minute;
        }
        if(second.length === 1) {
          second = "0" + second;
        }

        return hour + ":" + minute + ":" + second;
    },

    showAndHideSentence: function () {

      this.displayingHelloInterval = setTimeout(() => {
        this.classeHello += "image-show";

        this.displayingHelloInterval = setTimeout(() => {
          this.classeHello = this.classeHello.replace("image-show", "");

          this.displayingHelloInterval = setTimeout(() => {
            this.classeHow += "image-show";

            this.displayingHelloInterval = setTimeout( () => {
              this.classeHow = this.classeHow.replace("image-show", "");

              this.showAndHideSentence();
            }, 3000)

          }, 3000);

        }, 3000);

      }, 2200);

    },

    doAnimationScrollDown: function ()  {

      this.animationScrollDownInterval = setTimeout(() => {
        this.classeIcon = this.classeIcon.replace(" translate-animationY-bottom", "");
        this.classeIcon += " translate-animationY-top"

        this.animationScrollDownInterval = setTimeout(() => {
          this.classeIcon = this.classeIcon.replace(" translate-animationY-top", "");
          this.classeIcon += " translate-animationY-bottom"

          this.doAnimationScrollDown();

        }, 500)

      }, 500)

    }

  },

  mounted: function () {

    //this.threeJsScene();

    const smileyListSize = this.smiley.length;

    this.date = this.getDateToDisplay();

    this.displayingDateInterval = setInterval( () => {
      this.date = this.getDateToDisplay();
    }, 1000);

    this.displayingEmojieInterval = setInterval( () => {
        this.smileySelected = this.smiley[Math.round(Math.random() * smileyListSize)];
    }, 300);

    this.showAndHideSentence();

    this.doAnimationScrollDown();

  },

  beforeDestroy() {
    this.displayingDateInterval = null;
    this.displayingEmojieInterval = null;
    this.displayingHelloInterval = null;
  }

}
</script>

<style scoped>

.black-side {
  background-color: black;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  height: 100vh;
  width: 100%;
}

.to-row {
  display: flex;
  flex-direction: row;
  z-index: 1;
}

.date {
  color: white;
  font-size: 50px;
  padding-right: 2vh;
}

.smiley {
  font-size: 32px;
}

.folio-side {
  background-color: white;
  height: 100vh;
  width: 100%;
}

.hi {
  font-size: 25px;
}

.image-hello {
  position: absolute;
  width: 50vh;
  height: auto;
  z-index: 0;
  top: 66vh;
  opacity: 0;

  transition: opacity 1s linear;
}

.image-show {
  opacity: 1 !important;
}

.icon-down {
  position: absolute;
  top: 95vh;
}

.translate-animationY-top {
  transition: transform 0.5s linear;
  transform: translateY(-0.6vh);
}

.translate-animationY-bottom {
  transition: transform 0.5s ease;
  transform: translateY(0.6vh);
}

</style>